---
title: 计算机网络层
date: 2024-10-23 10:27:35
tags:
categories:
  - 计算机网络
---


> 计算机网络层主要关注的就是**IP、路由器、Ping-ICMP**等内容，是**传输层**和**应用层**之间的桥梁，负责**数据包的传输**和**路由选择**等功能


## 一、IP地址

IP用于在网络中**唯一标识和定位网络中的设备**，分为IPv4和IPv6两种，其中IPv4地址为32位(有地址枯竭问题)，IPv6地址为128位
- IPv4：划分为4个按点分，**每部分8位**，范围为0~255，如`255.255.255.0`
- IPv6：划分为8个按冒号分，**每部分16位**，如`2001:0db8:85a3:0000:0000:8a2e:0370:7334`

**Mac地址与IP地址的区别：**

而Mac地址在数据链路层，是与**网卡硬件**绑定的，不会因为网络变化而变化，而**IP地址是根据连接不同的网络而变化的**

- 局域网中：通过Mac地址直接通信
  - mac是用于**局域网设备**通信的
  - mac地址在**数据链路层**
  - **交换机**工作在MAC层，主要实现**局域网内**的数据转发
- 互联网中：通过IP地址路由传递信息的
  - IP用于**不同网络之间**的通信
  - IP地址在**网络层**
  - **路由器**工作在IP层，主要实现**不同网络之间**的数据转发

## 二、NAT转换

NAT转换协议是在**网络层节约公有IP资源**。

NAT转换可以将**多个私有IP都转换成同一个公有IP**，然后通过**端口号**来区分不同的设备，这样就可以**减少公网IP的使用**

<img src="NAT.png" width="70%">

## 三、Ping和ICMP协议

ping是通过**ICMP**协议实现的，通过发送ICMP包给目标主机来测试目标主机是否可到达（ping是不带端口的，也就是包最高到达网络层，所以无法探测某个主机内的某个程序是否可达）

<img src="Ping.png" width="100%">

## 四、DDOS攻击的预防

DDOS攻击是指黑客**短时间内用大量的僵尸机发送请求，耗尽服务器资源**，导致服务器无法正常工作

- 应用层DDOS：DNS洪水攻击
- 传输层DDOS：SYN洪泛攻击
- 网络层DDOS

预防方法：
- **限制某个IP访问频率**、**设置防火墙规则拉黑一些IP**
- 增加**用户验证**
- 第三方DDOS防护服务

